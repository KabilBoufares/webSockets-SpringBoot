<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />
  <title>Spring Boot WebSocket Chat</title>
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body>
  <div class="page page--login" id="login-page">
    <div class="login">
      <h1 class="login__title">Entrez votre pseudo</h1>
      <form id="loginForm" class="login__form">
        <input type="text"
               id="username"
               class="login__input"
               placeholder="Pseudo"
               autocomplete="off"
               required />
        <button type="submit" class="btn btn--accent">Commencer</button>
      </form>
    </div>
  </div>

  <div class="page page--chat hidden" id="chat-page">
    <div class="chat__container">
      <header class="chat__header">
        <h2 class="chat__title">WebSocket Chat Demo</h2>
        <div class="chat__status" id="connecting">Connexionâ€¦</div>
      </header>

      <main class="chat__main">
        <ul class="chat__messages" id="messageArea"></ul>
      </main>

      <form id="messageForm" class="chat__form">
        <div class="message-input-container">
          <input type="text"
                 id="message"
                 class="chat__input"
                 placeholder="Votre messageâ€¦"
                 autocomplete="off"
                 required />
          <div class="message-actions">
            <button type="button" class="btn-icon emoji-btn" id="emoji-btn" title="Ajouter un emoji">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="10"></circle>
                <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
                <line x1="9" y1="9" x2="9.01" y2="9"></line>
                <line x1="15" y1="9" x2="15.01" y2="9"></line>
              </svg>
            </button>
            <button type="submit" class="btn btn--primary">Envoyer</button>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Emoji Picker Modal -->
  <div class="emoji-picker-overlay hidden" id="emoji-picker-overlay">
    <div class="emoji-picker" id="emoji-picker">
      <div class="emoji-picker__header">
        <h3>Choisir un emoji</h3>
        <button type="button" class="btn-icon close-btn" id="close-emoji-picker">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      
      <div class="emoji-picker__categories">
        <button class="emoji-category active" data-category="smileys">ğŸ˜€</button>
        <button class="emoji-category" data-category="people">ğŸ‘‹</button>
        <button class="emoji-category" data-category="nature">ğŸŒ¸</button>
        <button class="emoji-category" data-category="food">ğŸ</button>
        <button class="emoji-category" data-category="activities">âš½</button>
        <button class="emoji-category" data-category="travel">ğŸš—</button>
        <button class="emoji-category" data-category="objects">ğŸ’¡</button>
        <button class="emoji-category" data-category="symbols">â¤ï¸</button>
      </div>
      
      <div class="emoji-picker__content" id="emoji-content">
        <!-- Emojis will be populated by JavaScript -->
      </div>
    </div>
  </div>

  <!-- WebSocket Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
  
  <!-- Main Application -->
  <script src="./js/main.js"></script>
</body>
</html>